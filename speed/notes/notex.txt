ржПржЦрж╛ржирзЗ:
python speed.py --video highway.mp4 --model yolov8s.pt --output result.mp4 --show


--video highway.mp4
тЖТ ржХрзЛржи ржнрж┐ржбрж┐ржУ ржкрзНрж░рж╕рзЗрж╕ ржХрж░ржмрзЗ

--model yolov8s.pt
тЖТ ржХрзЛржи model ржжрж┐рзЯрзЗ detection ржХрж░ржмрзЗ

--output result.mp4
тЖТ ржЖржЙржЯржкрзБржЯ ржХрзЛржи ржирж╛ржо ржжрж┐рзЯрзЗ save рж╣ржмрзЗ

--show
тЖТ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ ржЪрж▓рж╛ржХрж╛рж▓рзЗ рж▓рж╛ржЗржн ржжрзЗржЦрж╛ржмрзЗ

# resolution 1280x720

A тЖТ [0, 583]    ->Top-left
B тЖТ [1280, 512] ->Top-right
C тЖТ [805, 288]  ->Bottom-right
D тЖТ [396, 277]  ->Bottom-left

A = Top-left  
B = Top-right  
C = Bottom-right  
D = Bottom-left


тЬЕ RED ржПржмржВ BLUE ржЕржВрж╢ ржХрзА ржмрзЛржЭрж╛ржпрж╝?
тЬФ 1) SOURCE (ржмрж╛ржо ржжрж┐ржХ тАФ ржХрзНржпрж╛ржорзЗрж░рж╛ ржнрж┐ржЙ)

ржХрзНржпрж╛ржорзЗрж░рж╛ ржнрж┐ржЙ-ржПрж░ рж░рж╛рж╕рзНрждрж╛ржпрж╝:

ЁЯФ┤ рж▓рж╛рж▓ ржЕржВрж╢ (red area)

- ржПржЯрж╛ camera-ржПрж░ ржХрж╛ржЫрзЗрж░ ржЕржВрж╢ред

- ржПржЗ ржЕржВрж╢рзЗ ржЧрж╛рзЬрж┐ ржмржбрж╝ ржжрзЗржЦрж╛ ржпрж╛рзЯ

- ржирж┐ржЪрзЗрж░ ржжрж┐ржХрзЗ (ржЫржмрж┐рж░ bottom)

- ржПржЦрж╛ржирзЗ рж░рж╛рж╕рзНрждрж╛рж░ ржЪржУржбрж╝рж╛ ржмрзЗрж╢рж┐ (perspective distortion)

ЁЯФ╡ ржирзАрж▓ ржЕржВрж╢ (blue area)

- ржПржЯрж╛ ржжрзВрж░рзЗрж░ рж░рж╛рж╕рзНрждрж╛, ржкрзНрж░рж╛рзЯ horizon-ржПрж░ ржХрж╛ржЫрзЗред

- ржЧрж╛рзЬрж┐ ржЫрзЛржЯ ржжрзЗржЦрж╛ ржпрж╛рзЯ

- ржХрзНржпрж╛ржорзЗрж░рж╛ ржерзЗржХрзЗ ржЕржирзЗржХ ржжрзВрж░рзЗ

- ржкрзНрж░ржХрзГрждржкржХрзНрж╖рзЗ рж░рж╛рж╕рзНрждрж╛рж░ ржЪржУржбрж╝рж╛ рж╣рж▓рзЗржУ ржХрзНржпрж╛ржорзЗрж░рж╛рзЯ рж╕рж░рзБ ржжрзЗржЦрж╛ ржпрж╛рзЯ

- ржПржнрж╛ржмрзЗ рж▓рж╛рж▓ тЖТ ржирзАрж▓ ржкрж░рзНржпржирзНржд ржПржХржЯрж┐ ржЯрзНрж░рзНржпрж╛ржкрзЗржЬрж┐рзЯрж╛ржо рждрзИрж░рж┐ рж╣рзЯред


тЬФ 2) TARGET (ржбрж╛ржи ржжрж┐ржХ тАФ Top View Mapping)

ржПржЯрж╛ржЗ homography-ржПрж░ ржЖржЙржЯржкрзБржЯред

TARGET ржП:

ЁЯФ╡ ржирзАрж▓ ржЕржВрж╢ = рж░рж╛рж╕рзНрждрж╛рж░ 25 ржорж┐ржЯрж╛рж░ ржжрзВрж░рзЗрж░ рж▓рж╛ржЗржи (A' тЖТ B')

ЁЯФ┤ рж▓рж╛рж▓ ржЕржВрж╢ = рж░рж╛рж╕рзНрждрж╛рж░ 250 ржорж┐ржЯрж╛рж░ ржкрж░рзНржпржирзНржд ржЕржВрж╢ (D' тЖТ C')

ржПржЦрж╛ржирзЗ рж░ржЩрзЗрж░ ржорж╛ржирзЗ:

ЁЯФ╡ ржирзАрж▓: ржжрзВрж░рзЗрж░ рж░рж╛рж╕рзНрждрж╛ (Top View-ржП ржЙржкрж░рзЗрж░ ржЕржВрж╢)
ЁЯФ┤ рж▓рж╛рж▓: ржХрж╛ржЫрзЗрж░ рж░рж╛рж╕рзНрждрж╛ (Top View-ржП ржирж┐ржЪрзЗрж░ ржЕржВрж╢)

## ржХрзНржпрж╛ржорзЗрж░рж╛ ржнрж┐ржЙ (SOURCE):
        (Blue, far)
        A ---------- B    тЖР   25 m wide (ржжрзВрж░рзЗ, рж╕рж░рзБ ржжрзЗржЦрж╛ ржпрж╛рзЯ)
       /              \
      /                \
D ----                  ---- C   тЖР 250 m wide (ржХрж╛ржЫрзЗ, ржЪржУржбрж╝рж╛)
        (Red, near)

## Top view (TARGET):

A' (blue)  ----------------  B'
 |                                |   тЖР ржУржкрж░рзЗрж░ ржЕржВрж╢ (ржжрзВрж░рзЗрж░ рж░рж╛рж╕рзНрждрж╛)
 |                                |
 |                                |
D' (red)  ----------------  C'  


тнР ржЦрзБржм рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ:
ЁЯФ╡ BLUE = ржжрзВрж░рзЗрж░ ржЕржВрж╢ (source image ржПрж░ top)
ЁЯФ┤ RED = ржХрж╛ржЫрзЗрж░ ржЕржВрж╢ (source image ржПрж░ bottom)

Homography-рж░ ржкрж░рзЗ:

ЁЯФ╡ ржирзАрж▓ = y=0 ржкрж┐ржХрзНрж╕рзЗрж▓ тЖТ 25 ржорж┐ржЯрж╛рж░ ржжрзВрж░

ЁЯФ┤ рж▓рж╛рж▓ = y=249 ржкрж┐ржХрзНрж╕рзЗрж▓ тЖТ 250 ржорж┐ржЯрж╛рж░

- Red = Near area (camera bottom)
- Blue = Far area (camera top)